{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col s12 m9">
            <h4>{{recipe.recipe_name}}</h4>
        </div>
        <div class="col offset-s9 s3 m3 right-align votes">
            <div class="row">
                <div class="col m9 right-align">
                    <h5>{{recipe.upvotes}} votes</h5>
                </div>
                <div class="col m3 right-align">
                    <i class="fa fa-star"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="row img-details">
        <div class="col s12 m6">
            <img class="img_view_recipe" src="{{recipe.image_url}}">
        </div>
        <div class="col s12 m6">
            <div class="row">
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-clock-o"></i>
                        </div>
                        <div class="col s6 ">
                            <h6><strong>Cooking time</strong></h6>
                            <p>{{recipe.cooking_time}}</p>
                        </div>
                    </div>
                </div>
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-heart"></i>
                        </div>
                        <div class="col s6">
                            <h6><strong>Calories</strong><br><span class="small">(per serving)</span></h6>
                            <p>{{recipe.calories}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-puzzle-piece"></i>
                        </div>
                        <div class="col s6">
                            <h6><strong>Difficulty</strong></h6>
                            <p>{{recipe.difficulty_level}}</p>
                        </div>
                    </div>
                </div>
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-cutlery"></i>
                        </div>
                        <div class="col s6">
                            <h6><strong>Category</strong></h6>
                            <p>{{recipe.category}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-globe"></i>
                        </div>
                        <div class="col s6">
                            <h6><strong>Cuisine</strong></h6>
                            <p>{{recipe.cuisine}}</p>
                        </div>
                    </div>
                </div>
                <div class="col s6">
                    <div class="row details-item">
                        <div class="col s6 right-align">
                            <i class="fa fa-users"></i>
                        </div>
                        <div class="col s6">
                            <h6><strong>Serves</strong></h6>
                            <p>{{recipe.serves}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div class="row">
        <div class="col s12 m4">
            <div class="row">
                <div class="col s12 ingredients">
                    <h5>Ingredients</h5>
                    <ul>
                        {% for ingredient in recipe.ingredients %}
                        <li>
                            {{ingredient}}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class=" col s12 ingredients">
                    <h5>Allergens</h5>
                    <ul>
                        {% for allergen in recipe.allergens %}
                        <li>
                            {{allergen}}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <div class="col s12 m8 instructions">

            <div class="row">
                <div class="col s12">
                    <h4 class="center-align">Cooking instructions</h4>
                    <ol>
                        {% for instruction in recipe.instructions %}
                        <li>
                            {{instruction}}
                        </li>
                        {% endfor %}
                    </ol>
                    <h6 class="center-align author-date">Recipe by <b><em>{{recipe.author}}</em></b> - {{recipe.date}}
                    </h6>
                </div>
            </div>
        </div>
    </div>
    {% if recipe.author == username %}
    <div class="row">
        <div class="col s12 right-align">
            <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="btn waves-effect waves-light red"><i
                    class="fa fa-trash"></i></a>
            <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}" class="btn waves-effect waves-light blue"><i
                    class="fa fa-edit"></i></a>
        </div>
    </div>
    {% else %}
    <div class="row">
        <div class="col s12 right-align">
            <a href="{{url_for('vote', recipe_id=recipe._id)}}" class="btn waves-effect waves-light"><i
                    class="fa fa-thumbs-up"></i></a>
        </div>
    </div>

    {% endif %}
</div>


{% endblock %}